/* eslint-disable arrow-body-style */
const request = require('supertest');
const httpStatus = require('http-status');
const app = require('@app');

describe('POST /api/v1/create-feature', () => {
  let body;

  beforeEach(() => {
    body = {
      objectid: '26',
      name: ' ',
      layer: 'hidrography',
      firstyear: '1836',
      lastyear: '8888',
      type: 'River',
      geom: 'LINESTRING ( -95.57150390 29.72932440, -95.56621160 29.72936500, -95.56593240 29.72937570, -95.56575860 29.72930790, -95.56566960 29.72921380, -95.56552020 29.72180280, -95.56550500 29.72121250, -95.56565710 29.72017520, -95.56569620 29.71996570, -95.56576870 29.71933910, -95.56578740 29.71913650, -95.56578210 29.71893380, -95.56576600 29.71884060, -95.56580080 29.71863800, -95.56586110 29.71849200, -95.56608520 29.71816040, -95.56613610 29.71800670, -95.56614750 29.71783050, -95.56614000 29.71690800, -95.56607560 29.71675890, -95.56606490 29.71667970, -95.56611860 29.71660990, -95.56610130 29.71587530, -95.56606910 29.71436340, -95.56607440 29.71429120, -95.56609590 29.71423060, -95.56606910 29.71417240, -95.56603150 29.71197330, -95.56602080 29.71176360, -95.56604220 29.71161450, -95.56603150 29.71150270, -95.56600200 29.71061980, -95.56603690 29.71053590, -95.56610130 29.71047070, -95.56620320 29.71043580, -95.56633050 29.71042610, -95.56697440 29.71041900, -95.56716960 29.71036740, -95.56734270 29.71023300, -95.56747150 29.71005590, -95.56753580 29.70984160, -95.56741460 29.70557220)'
    };
  });

  afterEach(() => {});

  it('should integrate api /create-feature', () => {
    return request(app)
      .post('/api/v1/create-feature/line/wkt')
      .send(body)
      .expect(httpStatus.OK)
      .then((res) => {
        expect(res.body).toHaveProperty('responseCode');
        expect(res.body).toHaveProperty('responseMessage');
        expect(res.body.responseCode).toBe(200);
        expect(res.body.responseMessage).not.toBe(undefined);
      });
  });
});
